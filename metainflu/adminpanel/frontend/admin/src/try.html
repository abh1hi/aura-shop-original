<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>E-commerce UI - Vue & Tailwind</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Load Vue 3 -->
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <style>
        /* Custom font */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f7f7f7;
        }
        /* Mobile Frame Styling - Central container */
        .mobile-frame {
            max-width: 400px;
            height: 90vh;
            margin: 0 auto;
            background-color: #fff;
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
            border-radius: 36px;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            position: relative;
        }
        /* Style the scrollbar for the content area */
        .content-area::-webkit-scrollbar {
            width: 4px;
        }
        .content-area::-webkit-scrollbar-thumb {
            background: #e5e7eb;
            border-radius: 10px;
        }
        .content-area::-webkit-scrollbar-track {
            background: #fff;
        }
    </style>
</head>
<body>

<div id="app" class="p-4 md:p-8 min-h-screen">
    <div class="mobile-frame">
        <header class="p-4 flex justify-between items-center border-b border-gray-100 sticky top-0 bg-white z-10">
            <template v-if="page === 'cart'">
                <button @click="setPage('home')" class="text-xl font-semibold text-gray-800 p-1">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7" />
                    </svg>
                </button>
            </template>
            <template v-else-if="page === 'details'">
                <button @click="setPage('home')" class="text-xl font-semibold text-gray-800 p-1">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7" />
                    </svg>
                </button>
            </template>
            <h1 class="text-xl font-semibold uppercase tracking-wider" :class="{'mx-auto': page !== 'home'}">
                {{ headerTitle }}
            </h1>
            <div class="flex items-center space-x-4">
                <button v-if="page !== 'cart'" class="p-1">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-gray-600" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                    </svg>
                </button>
                <button @click="setPage('cart')" class="p-1 relative">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-gray-600" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z" />
                    </svg>
                    <span v-if="cartItems.length > 0" class="absolute top-0 right-0 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white transform translate-x-1/2 -translate-y-1/2 bg-black rounded-full">{{ cartTotalQuantity }}</span>
                </button>
            </div>
        </header>

        <!-- Main Content Area -->
        <main class="content-area flex-grow overflow-y-auto">
            <div v-if="page === 'home'" class="pb-16">
                <!-- Home Page Content -->
                <div class="px-4 pt-2 flex space-x-4 text-sm font-medium text-gray-500 overflow-x-auto whitespace-nowrap">
                    <span class="py-2 px-3 rounded-full text-black bg-gray-100 font-semibold">Limited</span>
                    <span class="py-2 px-3 rounded-full hover:text-black hover:bg-gray-100 transition duration-150">Recommended</span>
                    <span class="py-2 px-3 rounded-full hover:text-black hover:bg-gray-100 transition duration-150">New</span>
                    <span class="py-2 px-3 rounded-full hover:text-black hover:bg-gray-100 transition duration-150">Trendy</span>
                </div>

                <!-- Hero Banner -->
                <div class="p-4">
                    <div class="h-56 bg-gray-200 rounded-3xl overflow-hidden shadow-lg relative"
                         style="background-image: url('https://placehold.co/400x224/000/fff?text=Summer+Collection'); background-size: cover; background-position: center;">
                        <div class="absolute inset-0 bg-black bg-opacity-30 p-6 flex flex-col justify-end">
                            <h2 class="text-2xl font-bold text-white mb-2">Summer 2024 best collection</h2>
                            <p class="text-sm text-gray-200 mb-4">Available online and in store</p>
                            <a href="#" class="text-sm font-semibold text-white border-b-2 border-white inline-block w-max">View Shop →</a>
                        </div>
                    </div>
                </div>

                <!-- New Arrival Section -->
                <div class="flex justify-between items-center px-4 mt-2 mb-4">
                    <h3 class="text-xl font-bold text-gray-800">New Arrival</h3>
                    <button class="text-sm text-gray-500 font-medium" @click="console.log('See all clicked')">See all</button>
                </div>

                <div class="px-4 flex space-x-4 overflow-x-auto pb-4">
                    <!-- Product Card 1 -->
                    <div class="flex-shrink-0 w-40">
                        <div class="bg-gray-100 h-48 rounded-2xl overflow-hidden">
                            <img :src="products[0].image" alt="Street Wear Knitted Sweater" class="w-full h-full object-cover cursor-pointer" @click="setPage('details', products[0])">
                        </div>
                        <div class="pt-2">
                            <h4 class="text-sm font-semibold truncate">{{ products[0].name }}</h4>
                            <div class="flex justify-between items-center mt-1">
                                <span class="text-base font-bold">${{ products[0].price.toFixed(2) }}</span>
                                <button class="text-gray-400 hover:text-red-500 transition">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" /></svg>
                                </button>
                            </div>
                            <button @click="setPage('details', products[0])" class="text-xs text-gray-500 hover:underline mt-1">Details</button>
                        </div>
                    </div>

                    <!-- Product Card 2 -->
                    <div class="flex-shrink-0 w-40">
                        <div class="bg-gray-100 h-48 rounded-2xl overflow-hidden">
                            <img :src="products[1].image" alt="Moon Light X Jacket" class="w-full h-full object-cover cursor-pointer" @click="setPage('details', products[1])">
                        </div>
                        <div class="pt-2">
                            <h4 class="text-sm font-semibold truncate">{{ products[1].name }}</h4>
                            <div class="flex justify-between items-center mt-1">
                                <span class="text-base font-bold">${{ products[1].price.toFixed(2) }}</span>
                                <button class="text-gray-400 hover:text-red-500 transition">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" /></svg>
                                </button>
                            </div>
                            <button @click="setPage('details', products[1])" class="text-xs text-gray-500 hover:underline mt-1">Details</button>
                        </div>
                    </div>

                    <!-- Product Card 3 -->
                    <div class="flex-shrink-0 w-40">
                        <div class="bg-gray-100 h-48 rounded-2xl overflow-hidden">
                            <img :src="products[2].image" alt="Futuristic Camel T-Shirt" class="w-full h-full object-cover cursor-pointer" @click="setPage('details', products[2])">
                        </div>
                        <div class="pt-2">
                            <h4 class="text-sm font-semibold truncate">{{ products[2].name }}</h4>
                            <div class="flex justify-between items-center mt-1">
                                <span class="text-base font-bold">${{ products[2].price.toFixed(2) }}</span>
                                <button class="text-gray-400 hover:text-red-500 transition">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" /></svg>
                                </button>
                            </div>
                            <button @click="setPage('details', products[2])" class="text-xs text-gray-500 hover:underline mt-1">Details</button>
                        </div>
                    </div>

                    <!-- Product Card 4 -->
                    <div class="flex-shrink-0 w-40">
                        <div class="bg-gray-100 h-48 rounded-2xl overflow-hidden">
                            <img :src="products[3].image" alt="Winter Wool Jacket" class="w-full h-full object-cover cursor-pointer" @click="setPage('details', products[3])">
                        </div>
                        <div class="pt-2">
                            <h4 class="text-sm font-semibold truncate">{{ products[3].name }}</h4>
                            <div class="flex justify-between items-center mt-1">
                                <span class="text-base font-bold">${{ products[3].price.toFixed(2) }}</span>
                                <button class="text-gray-400 hover:text-red-500 transition">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" /></svg>
                                </button>
                            </div>
                            <button @click="setPage('details', products[3])" class="text-xs text-gray-500 hover:underline mt-1">Details</button>
                        </div>
                    </div>
                </div>
            </div>

            <div v-if="page === 'details'" class="pb-24">
                <!-- Product Details Page Content -->
                <div class="w-full h-96 bg-gray-100 overflow-hidden">
                    <img :src="selectedProduct.image" :alt="selectedProduct.name" class="w-full h-full object-cover" />
                </div>
                <div class="p-4">
                    <div class="flex justify-between items-start mb-2">
                        <h2 class="text-xl font-bold text-gray-900 leading-snug w-3/4">{{ selectedProduct.name }}</h2>
                        <span class="text-2xl font-extrabold text-gray-900">${{ selectedProduct.price.toFixed(2) }}</span>
                    </div>

                    <div class="flex items-center text-sm text-gray-500 mb-6">
                        <span class="text-yellow-500 mr-1">★</span>
                        <span>{{ selectedProduct.rating.toFixed(1) }}</span>
                        <span class="mx-2">•</span>
                        <span>{{ selectedProduct.reviews }} Reviews</span>
                    </div>

                    <!-- Fabrics -->
                    <div class="mb-6">
                        <h3 class="font-semibold text-gray-800 mb-2">Fabrics</h3>
                        <p class="text-sm text-gray-600">{{ selectedProduct.description }}</p>
                    </div>

                    <!-- Available Size -->
                    <div class="mb-8">
                        <h3 class="font-semibold text-gray-800 mb-2">Available Size</h3>
                        <div class="flex space-x-2">
                            <button v-for="size in selectedProduct.availableSizes" :key="size"
                                    @click="selectedSize = size"
                                    :class="{'bg-black text-white': selectedSize === size, 'bg-gray-100 text-gray-700 hover:bg-gray-200': selectedSize !== size}"
                                    class="py-2 px-4 text-sm font-medium rounded-xl transition duration-150">
                                {{ size }}
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Add to Cart Fixed Bar -->
                <div class="fixed bottom-0 left-1/2 transform -translate-x-1/2 w-full max-w-sm md:max-w-md p-4 bg-white border-t border-gray-100 rounded-b-3xl">
                    <button @click="addToCart(selectedProduct)" class="w-full py-4 bg-black text-white text-lg font-semibold rounded-2xl shadow-lg hover:bg-gray-800 transition duration-150 flex items-center justify-center">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z" />
                        </svg>
                        Add To Cart
                    </button>
                </div>
            </div>

            <div v-if="page === 'cart'" class="p-4 pb-24">
                <!-- Cart List Page Content -->
                <div v-if="cartItems.length === 0" class="text-center py-16 text-gray-500">
                    Your cart is currently empty.
                </div>

                <div v-else class="space-y-4">
                    <div v-for="item in cartItems" :key="item.id" class="flex items-center bg-white p-3 rounded-2xl shadow-sm border border-gray-100">
                        <!-- Product Image -->
                        <div class="flex-shrink-0 w-20 h-20 bg-gray-100 rounded-xl overflow-hidden mr-3">
                            <img :src="item.image" :alt="item.name" class="w-full h-full object-cover">
                        </div>

                        <!-- Product Info -->
                        <div class="flex-grow">
                            <p class="font-semibold text-gray-800 truncate">{{ item.name }}</p>
                            <p class="text-sm font-medium text-gray-500">${{ item.price.toFixed(2) }}</p>
                        </div>

                        <!-- Quantity and Remove -->
                        <div class="flex flex-col items-end space-y-2 ml-4">
                            <!-- Remove Button -->
                            <button @click="removeFromCart(item.id)" class="text-gray-400 hover:text-red-500 transition self-end">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
                                </svg>
                            </button>

                            <!-- Quantity Selector -->
                            <div class="flex items-center border border-gray-200 rounded-full">
                                <button @click="updateQuantity(item.id, -1)" class="w-7 h-7 flex items-center justify-center text-lg text-gray-600 hover:bg-gray-100 rounded-l-full disabled:opacity-50" :disabled="item.quantity <= 1">-</button>
                                <span class="px-2 text-sm font-medium text-gray-800">{{ item.quantity }}</span>
                                <button @click="updateQuantity(item.id, 1)" class="w-7 h-7 flex items-center justify-center text-lg text-gray-600 hover:bg-gray-100 rounded-r-full">+</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Cart Total Summary -->
                <div v-if="cartItems.length > 0" class="mt-8 pt-4 border-t border-gray-100">
                    <div class="flex justify-between items-center text-lg font-bold">
                        <span>Total:</span>
                        <span>${{ cartTotalPrice.toFixed(2) }}</span>
                    </div>
                </div>

                <!-- Checkout Fixed Bar -->
                <div v-if="cartItems.length > 0" class="fixed bottom-0 left-1/2 transform -translate-x-1/2 w-full max-w-sm md:max-w-md p-4 bg-white border-t border-gray-100 rounded-b-3xl">
                    <button @click="console.log('Checkout clicked')" class="w-full py-4 bg-black text-white text-lg font-semibold rounded-2xl shadow-lg hover:bg-gray-800 transition duration-150">
                        Checkout ({{ cartTotalQuantity }} Items)
                    </button>
                </div>
            </div>

        </main>

        <!-- Bottom Navigation Bar (Fixed for Home/Discover/Profile Views) -->
        <footer v-if="page === 'home'" class="p-4 border-t border-gray-100 sticky bottom-0 bg-white z-10 rounded-b-3xl">
            <nav class="flex justify-around items-center">
                <button class="flex flex-col items-center text-black font-semibold text-xs">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mb-1" viewBox="0 0 24 24" fill="currentColor"><path d="M10 20v-6h4v6h5v-8h3L12 3L2 12h3v8z"/></svg>
                    <span>Home</span>
                </button>
                <button class="flex flex-col items-center text-gray-400 hover:text-black transition text-xs">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mb-1" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 10h16M4 14h16M4 18h16" /></svg>
                    <span>Discover</span>
                </button>
                <button class="flex flex-col items-center text-gray-400 hover:text-black transition text-xs">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mb-1" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9" /></svg>
                    <span>Notification</span>
                </button>
                <button class="flex flex-col items-center text-gray-400 hover:text-black transition text-xs">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mb-1" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" /></svg>
                    <span>Profile</span>
                </button>
            </nav>
        </footer>
    </div>
</div>

<script>
    const { createApp, ref, reactive, computed } = Vue

    const app = createApp({
        setup() {
            // -- State Management --
            const page = ref('home'); // 'home', 'details', 'cart'
            const products = reactive([
                { id: 1, name: 'Street Wear Knitted Sweater', price: 199.99, image: 'https://placehold.co/400x400/000080/fff?text=KNIT', rating: 4.8, reviews: 270, availableSizes: ['Small', 'Medium', 'Large', 'X large'], description: 'Made by ne dolulae as llweacing read read' },
                { id: 2, name: 'Moon Light X Jacket', price: 230.71, image: 'https://placehold.co/400x400/FFD700/000?text=JACKET', rating: 4.5, reviews: 150, availableSizes: ['Small', 'Medium', 'Large'], description: 'Lightweight and breathable synthetic fabric for evening wear.' },
                { id: 3, name: 'Futuristic Camel T-Shirt', price: 240.00, image: 'https://placehold.co/400x400/808080/fff?text=TSHIRT', rating: 4.2, reviews: 98, availableSizes: ['Small', 'Medium'], description: '100% organic cotton for maximum comfort and style.' },
                { id: 4, name: 'Winter Wool Jacket', price: 350.50, image: 'https://placehold.co/400x400/B0C4DE/000?text=WOOL', rating: 4.9, reviews: 400, availableSizes: ['Small', 'Medium', 'Large', 'X large'], description: 'Heavy-duty wool blend, perfect for extreme cold.' }
            ]);
            const selectedProduct = ref(products[0]);
            const selectedSize = ref('Medium');
            const cartItems = reactive([
                { id: 1, name: 'Street Wear Knitted Sweater', price: 240.00, image: 'https://placehold.co/400x400/000080/fff?text=KNIT', quantity: 1, size: 'Medium' },
                { id: 3, name: 'Futuristic Camel T-Shirt', price: 240.00, image: 'https://placehold.co/400x400/808080/fff?text=TSHIRT', quantity: 1, size: 'Large' },
            ]);


            // -- Computed Properties --
            const headerTitle = computed(() => {
                if (page.value === 'home') return 'OBEY.LY';
                if (page.value === 'cart') return 'Cart List';
                return ''; // Title is handled internally on details page
            });

            const cartTotalQuantity = computed(() => {
                return cartItems.reduce((sum, item) => sum + item.quantity, 0);
            });

            const cartTotalPrice = computed(() => {
                return cartItems.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            });


            // -- Methods --
            const setPage = (newPage, product = null) => {
                page.value = newPage;
                if (product) {
                    selectedProduct.value = product;
                    selectedSize.value = 'Medium'; // Reset size on new product
                }
            };

            const addToCart = (product) => {
                const existingItemIndex = cartItems.findIndex(item => item.id === product.id && item.size === selectedSize.value);

                if (existingItemIndex !== -1) {
                    cartItems[existingItemIndex].quantity++;
                } else {
                    cartItems.push({
                        id: product.id,
                        name: product.name,
                        price: product.price,
                        image: product.image,
                        quantity: 1,
                        size: selectedSize.value
                    });
                }
                setPage('cart'); // Go to cart after adding
            };

            const removeFromCart = (itemId) => {
                const index = cartItems.findIndex(item => item.id === itemId);
                if (index !== -1) {
                    cartItems.splice(index, 1);
                }
            };

            const updateQuantity = (itemId, change) => {
                const item = cartItems.find(item => item.id === itemId);
                if (item) {
                    const newQuantity = item.quantity + change;
                    if (newQuantity >= 1) {
                        item.quantity = newQuantity;
                    } else {
                        // Optionally remove item if quantity drops to 0 or below
                        // removeFromCart(itemId);
                    }
                }
            };

            return {
                page,
                products,
                selectedProduct,
                selectedSize,
                cartItems,
                headerTitle,
                cartTotalQuantity,
                cartTotalPrice,
                setPage,
                addToCart,
                removeFromCart,
                updateQuantity
            };
        }
    });

    app.mount('#app');
</script>

</body>
</html>
